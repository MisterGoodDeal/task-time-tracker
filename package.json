{
  "name": "task-time-tracker",
  "displayName": "Task Time Tracker",
  "description": "Extension VSCode pour suivre le temps passé sur les tâches",
  "publisher": "mistergooddeal",
  "repository": "https://github.com/MisterGoodDeal/task-time-tracker",
  "version": "1.0.4",
  "license": "MIT",
  "engines": {
    "vscode": "^1.74.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "*"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "configuration": {
      "title": "Task Time Tracker",
      "properties": {
        "task-time-tracker.branchPrefixes": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "description": "List of branch prefixes to check. If empty, all branches can be added to tracking."
        },
        "task-time-tracker.ticketBaseUrl": {
          "type": "string",
          "default": "",
          "description": "Base URL for tickets (e.g., https://your-instance.atlassian.net/browse)"
        },
        "task-time-tracker.tracking": {
          "type": "array",
          "default": [],
          "description": "Task tracking configuration"
        },
        "task-time-tracker.language": {
          "type": "string",
          "enum": [
            "en",
            "fr"
          ],
          "default": "en",
          "description": "Extension language"
        },
        "task-time-tracker.timeFormat": {
          "type": "string",
          "enum": [
            "24h",
            "12h"
          ],
          "default": "24h",
          "description": "Time display format (24h or 12h)"
        },
        "task-time-tracker.workStartHour": {
          "type": "number",
          "default": 9,
          "minimum": 0,
          "maximum": 23,
          "description": "Work start hour (24h format, 0-23). Used if timeFormat is 24h."
        },
        "task-time-tracker.workStartHour12h": {
          "type": "number",
          "default": 9,
          "minimum": 1,
          "maximum": 12,
          "description": "Work start hour (12h format, 1-12). Used if timeFormat is 12h."
        },
        "task-time-tracker.workStartPeriod": {
          "type": "string",
          "enum": [
            "AM",
            "PM"
          ],
          "default": "AM",
          "description": "Work start period (AM/PM). Used if timeFormat is 12h."
        },
        "task-time-tracker.workEndHour": {
          "type": "number",
          "default": 18,
          "minimum": 0,
          "maximum": 23,
          "description": "Work end hour (24h format, 0-23). Used if timeFormat is 24h."
        },
        "task-time-tracker.workEndHour12h": {
          "type": "number",
          "default": 6,
          "minimum": 1,
          "maximum": 12,
          "description": "Work end hour (12h format, 1-12). Used if timeFormat is 12h."
        },
        "task-time-tracker.workEndPeriod": {
          "type": "string",
          "enum": [
            "AM",
            "PM"
          ],
          "default": "PM",
          "description": "Work end period (AM/PM). Used if timeFormat is 12h."
        },
        "task-time-tracker.timeIncrement": {
          "type": "number",
          "default": 0.5,
          "minimum": 0.1,
          "maximum": 1,
          "description": "Time increment in days for tracking (e.g., 0.1, 0.2, 0.5, 1). Time spent will be rounded to this increment. Should be a multiple of 0.1."
        },
        "task-time-tracker.excelOutputPath": {
          "type": "string",
          "default": "",
          "description": "Output path for exported spreadsheet files. If empty, the file will be saved in the current workspace directory."
        },
        "task-time-tracker.excelExecutable": {
          "type": "string",
          "default": "",
          "description": "Path to the executable application to open exported files automatically (e.g., /Applications/Microsoft Excel.app/Contents/MacOS/Microsoft Excel). If empty, the file will not be opened automatically."
        },
        "task-time-tracker.excelExportFormat": {
          "type": "string",
          "enum": [
            "xlsx",
            "ods",
            "csv"
          ],
          "default": "xlsx",
          "description": "Export format for tracking files (xlsx, ods, csv)"
        }
      }
    },
    "views": {
      "scm": [
        {
          "id": "task-time-tracker-view",
          "name": "Task Time Tracker"
        }
      ]
    },
    "commands": [
      {
        "command": "task-time-tracker.helloWorld",
        "title": "Hello World"
      },
      {
        "command": "task-time-tracker.refresh",
        "title": "Refresh",
        "icon": "$(refresh)"
      },
      {
        "command": "task-time-tracker.openItem",
        "title": "Open",
        "icon": "$(go-to-file)"
      },
      {
        "command": "task-time-tracker.openSettings",
        "title": "Open Settings",
        "icon": "$(settings)"
      },
      {
        "command": "task-time-tracker.openTicketProviderTicket",
        "title": "Open Ticket",
        "icon": "$(link-external)"
      },
      {
        "command": "task-time-tracker.showNoTicket",
        "title": "No ticket to open",
        "icon": "$(clear-all)"
      },
      {
        "command": "task-time-tracker.addToTracking",
        "title": "Add to tracking",
        "icon": "$(new-file)"
      },
      {
        "command": "task-time-tracker.removeFromTracking",
        "title": "Remove from tracking",
        "icon": "$(trash)"
      },
      {
        "command": "task-time-tracker.markTicketAsCompleted",
        "title": "Mark as completed",
        "icon": "$(check)"
      },
      {
        "command": "task-time-tracker.deleteTicket",
        "title": "Delete ticket",
        "icon": "$(trash)"
      },
      {
        "command": "task-time-tracker.markTicketAsInProgress",
        "title": "Resume tracking",
        "icon": "$(refresh)"
      },
      {
        "command": "task-time-tracker.deleteMonthTracking",
        "title": "Delete month tracking",
        "icon": "$(trash)"
      },
      {
        "command": "task-time-tracker.exportMonthToExcel",
        "title": "Export to spreadsheet",
        "icon": "$(table)"
      },
      {
        "command": "task-time-tracker.openTrackedTicketProvider",
        "title": "Open Ticket",
        "icon": "$(link-external)"
      },
      {
        "command": "task-time-tracker.checkoutBranch",
        "title": "Checkout branch"
      }
    ],
    "menus": {
      "scm/title": [
        {
          "command": "task-time-tracker.refresh",
          "when": "view == task-time-tracker-view",
          "group": "navigation"
        }
      ],
      "view/title": [
        {
          "command": "task-time-tracker.refresh",
          "when": "view == task-time-tracker-view",
          "group": "navigation"
        },
        {
          "command": "task-time-tracker.openSettings",
          "when": "view == task-time-tracker-view",
          "group": "navigation"
        }
      ],
      "view/item/context": [
        {
          "command": "task-time-tracker.openTicketProviderTicket",
          "when": "view == task-time-tracker-view && viewItem == hasTicket",
          "group": "inline@1"
        },
        {
          "command": "task-time-tracker.openTicketProviderTicket",
          "when": "view == task-time-tracker-view && viewItem == hasTicketTracked",
          "group": "inline@1"
        },
        {
          "command": "task-time-tracker.addToTracking",
          "when": "view == task-time-tracker-view && viewItem == hasTicket",
          "group": "inline@2"
        },
        {
          "command": "task-time-tracker.removeFromTracking",
          "when": "view == task-time-tracker-view && viewItem == hasTicketTracked",
          "group": "inline@2"
        },
        {
          "command": "task-time-tracker.showNoTicket",
          "when": "view == task-time-tracker-view && viewItem == noTicket",
          "group": "inline@1"
        },
        {
          "command": "task-time-tracker.markTicketAsCompleted",
          "when": "view == task-time-tracker-view && viewItem == ticketInProgress",
          "group": "inline@1"
        },
        {
          "command": "task-time-tracker.markTicketAsInProgress",
          "when": "view == task-time-tracker-view && viewItem == ticketCompleted",
          "group": "inline@1"
        },
        {
          "command": "task-time-tracker.openTrackedTicketProvider",
          "when": "view == task-time-tracker-view && (viewItem == ticketInProgress || viewItem == ticketCompleted)",
          "group": "inline@1"
        },
        {
          "command": "task-time-tracker.deleteTicket",
          "when": "view == task-time-tracker-view && (viewItem == ticketInProgress || viewItem == ticketCompleted)",
          "group": "inline@2"
        },
        {
          "command": "task-time-tracker.deleteMonthTracking",
          "when": "view == task-time-tracker-view && viewItem == craItem",
          "group": "inline@1"
        },
        {
          "command": "task-time-tracker.exportMonthToExcel",
          "when": "view == task-time-tracker-view && viewItem == craItem",
          "group": "inline@2"
        }
      ]
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./ && npm run copy-i18n",
    "copy-i18n": "mkdir -p out/i18n && cp src/i18n/*.json out/i18n/",
    "watch": "tsc -watch -p ./",
    "package": "vsce package --out build --allow-star-activation",
    "test:vscode": "code --extensionDevelopmentPath=${PWD}",
    "version:patch": "node scripts/version.js patch",
    "version:minor": "node scripts/version.js minor",
    "version:major": "node scripts/version.js major",
    "version": "npm run version:patch",
    "release:patch": "node scripts/release.js patch",
    "release:minor": "node scripts/release.js minor",
    "release:major": "node scripts/release.js major",
    "release": "npm run release:patch",
    "install-latest": "node scripts/install.js",
    "test": "jest",
    "test:watch": "jest --watch",
    "lint": "eslint src --ext ts",
    "lint:fix": "eslint src --ext ts --fix"
  },
  "devDependencies": {
    "@types/jest": "^30.0.0",
    "@types/node": "^25.0.3",
    "@types/vscode": "^1.74.0",
    "@typescript-eslint/eslint-plugin": "^8.50.1",
    "@typescript-eslint/parser": "^8.50.1",
    "@vscode/vsce": "^3.7.1",
    "eslint": "^9.39.2",
    "jest": "^30.2.0",
    "ts-jest": "^29.4.6",
    "typescript": "^5.9.3",
    "typescript-eslint": "^8.50.1"
  },
  "dependencies": {
    "xlsx": "^0.18.5"
  }
}
